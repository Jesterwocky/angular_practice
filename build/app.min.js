"use strict";var myApp=angular.module("myModule",[]);myApp.controller("employeesController",function($scope,makePageService){var employees=[{firstName:"Joe",lastName:"Golightly",gender:"Male",skills:[{skill:"writing"},{skill:"trapeze"},{skill:"RUNRUNRUNAWAAAAY"}]},{firstName:"Jane",lastName:"Bread",gender:"Female",skills:[{skill:"basket-weaving"},{skill:"wrestling"},{skill:"singing"}]},{firstName:"Alexia",lastName:"Gould",gender:"Female",skills:[{skill:"Hammering"},{skill:"Knitting"}]},{firstName:"Winston",lastName:"Karlsbad",gender:"Male",skills:[{skill:"Queueing"},{skill:"Blinking"},{skill:"Empathy"}]},{firstName:"Anne",lastName:"Gregor"},{firstName:"Brandon",lastName:"Noise"},{firstName:"Rita",lastName:"Yuli"},{firstName:"Evan",lastName:"Moss"},{firstName:"Helene",lastName:"Robespierre"},{firstName:"Mark",lastName:"Hilton"},{firstName:"Gemma",lastName:"Nearfar"},{firstName:"Joe",lastName:"Balliard"},{firstName:"Lora",lastName:"Valentino"},{firstName:"Hastings",lastName:"Clark"},{firstName:"Pauline",lastName:"Noelle"},{firstName:"Grover",lastName:"Daring"},{firstName:"Melanie",lastName:"Ferris"},{firstName:"Uther",lastName:"Pendragon"},{firstName:"Eliana",lastName:"Zomg"},{firstName:"Philadelphia",lastName:"Jones"},{firstName:"Yvonne",lastName:"Dorn"}],currentPage=1,elementsPerPage=2,pages=makePageService.allPages(employees,elementsPerPage),buttonInfo=makePageService.pageButtonRange(currentPage,pages.length);$scope.buttonInfo=buttonInfo,$scope.pageOfEmployees=pages[currentPage-1],$scope.changePage=function(pageNumber,index){if("..."===pageNumber){var incrementBy=0===index?-1:1;buttonInfo=makePageService.scrollPageButtonRange(buttonInfo,pages.length,incrementBy),$scope.buttonInfo=buttonInfo}else currentPage=pageNumber,$scope.pageOfEmployees=pages[currentPage-1],$scope.buttonInfo=makePageService.pageButtonRange(currentPage,pages.length)}}),myApp.factory("makePageService",function(){var range=function(start,stop){for(var numbersInRange=[],i=start;i<stop;i++)numbersInRange.push(i);return numbersInRange};return{elementsOnPage:function(elements,elementsPerPage,currentPage){return elements.slice(elementsPerPage*currentPage-elementsPerPage,elementsPerPage*currentPage)},allPages:function(elements,elementsPerPage){for(var totalPages=Math.ceil(elements.length/elementsPerPage),pages=[],i=0;i<totalPages;i++)pages.push(this.elementsOnPage(elements,elementsPerPage,i+1));return pages},pageButtonRange:function(currentPage,totalPages){var buttonInfo=[];if(currentPage<=5||totalPages<=8)buttonInfo=range(1,9).slice(0,totalPages+1),totalPages>8&&(buttonInfo[7]="...");else if(totalPages>currentPage+3)buttonInfo=range(currentPage-4,currentPage+3),buttonInfo[0]="...",buttonInfo[7]="...";else{var paddingPages=currentPage+3-totalPages;buttonInfo=range(currentPage-(4+paddingPages),totalPages+1),buttonInfo[0]="..."}return buttonInfo},scrollPageButtonRange:function(buttonRange,totalPages,incrementBy){var pageRange=[],lowerPageNum=void 0,upperPageNum=void 0;return incrementBy===-1&&buttonRange[1]>=1?(lowerPageNum=buttonRange[1]-1,upperPageNum=lowerPageNum+8,pageRange=range(lowerPageNum,upperPageNum+1),lowerPageNum>1&&pageRange.unshift("..."),pageRange=pageRange.slice(0,9),pageRange[7]<totalPages&&(pageRange[7]="...")):buttonRange[buttonRange.length-1]!=totalPages&&(upperPageNum=buttonRange[buttonRange.length-2]+1,lowerPageNum=upperPageNum-8,pageRange=range(lowerPageNum,upperPageNum),upperPageNum<totalPages&&(pageRange.push("..."),pageRange.shift(1)),pageRange[0]="..."),pageRange}}});