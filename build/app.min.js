"use strict";var myApp=angular.module("myModule",[]);myApp.controller("employeesController",function($scope,makePageService){$scope.thing="HI THERE",$scope.message="Hello";var employees=[{firstName:"Joe",lastName:"Golightly",gender:"Male",skills:[{skill:"writing"},{skill:"trapeze"},{skill:"RUNRUNRUNAWAAAAY"}]},{firstName:"Jane",lastName:"Bread",gender:"Female",skills:[{skill:"basket-weaving"},{skill:"wrestling"},{skill:"singing"}]},{firstName:"Alexia",lastName:"Gould",gender:"Female",skills:[{skill:"Hammering"},{skill:"Knitting"}]},{firstName:"Winston",lastName:"Karlsbad",gender:"Male",skills:[{skill:"Queueing"},{skill:"Blinking"},{skill:"Empathy"}]}],currentPage=1,elementsPerPage=2,totalPages=Math.ceil(employees.length/elementsPerPage);console.log(totalPages),$scope.pageEmployees=makePageService.elementsOnPage(employees,elementsPerPage,currentPage),$scope.changePage=function(pageNumber){currentPage=pageNumber,$scope.pageEmployees=makePageService.elementsOnPage(employees,elementsPerPage,currentPage)};for(var pages=[],i=0;i<totalPages;i++)pages.push(makePageService.elementsOnPage(employees,elementsPerPage,i+1));var range=function(start,stop){for(var rangeNums=[],_i=start;_i<stop;_i++)rangeNums.push(_i);return rangeNums},buttonInfo=[];currentPage<=5||totalPages<=8?(buttonInfo=range(1,9).slice(0,totalPages),totalPages>8&&(buttonInfo[7]="...")):(buttonInfo=range(currentPage-4,Math.min(currentPage+3,totalPages)),totalPages>currentPage+3&&(buttonInfo[7]="...")),$scope.buttonInfo=buttonInfo,$scope.pageOfEmployees=pages[currentPage-1],$scope.changePage2=function(pageNumber){currentPage=pageNumber,$scope.pageOfEmployees=pages[currentPage-1]}}),myApp.factory("makePageService",function(){var range=function(start,stop){for(var rangeNums=[],i=start;i<stop;i++)rangeNums.push(i);return rangeNums};return{elementsOnPage:function(elements,elementsPerPage,currentPage){return elements.slice(elementsPerPage*currentPage-elementsPerPage,elementsPerPage*currentPage)},pageButtonRange:function(currentPage){var buttonInfo=[];currentPage<=5||totalPages<=8?(buttonInfo=range(1,9).slice(0,totalPages),totalPages>8&&(buttonInfo[7]="...")):(buttonInfo=range(currentPage-4,Math.min(currentPage+3,totalPages)),totalPages>currentPage+3&&(buttonInfo[7]="..."))}}});